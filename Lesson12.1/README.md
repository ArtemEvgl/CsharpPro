Создайте Semaphore, осуществляющий контроль доступа к ресурсу из нескольких потоков. Организуйте упорядоченный вывод информации о получении доступа в специальный *.log файл.  
